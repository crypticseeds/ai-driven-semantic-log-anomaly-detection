[SERVICE]
    Flush         5
    Log_Level     info
    Daemon        off
    Parsers_File  parsers.conf

[INPUT]
    Name              tail
    Path              /var/log/*.log
    Tag               logs.json
    Parser            json
    Refresh_Interval  5
    Mem_Buf_Limit     50MB
    Skip_Long_Lines   On

[INPUT]
    Name              tail
    Path              /var/log/syslog
    Tag               logs.syslog
    Parser            syslog
    Refresh_Interval  5
    Mem_Buf_Limit     50MB
    Skip_Long_Lines   On

# Optional: Uncomment if nginx is running and logs are available
# [INPUT]
#     Name              tail
#     Path              /var/log/nginx/*.log
#     Tag               logs.nginx
#     Parser            nginx
#     Refresh_Interval  5
#     Mem_Buf_Limit     50MB
#     Skip_Long_Lines   On

# Optional: Uncomment if opentelemetry logs are available
# [INPUT]
#     Name              tail
#     Path              /var/log/opentelemetry/*.log
#     Tag               logs.opentelemetry
#     Parser            opentelemetry
#     Refresh_Interval  5
#     Mem_Buf_Limit     50MB
#     Skip_Long_Lines   On

[FILTER]
    Name                modify
    Match               logs.*
    Add                 service fluentbit
    Add                 environment docker

[OUTPUT]
    Name        kafka
    Match       logs.*
    Brokers     kafka:9092
    Topics      logs-raw
    Format      json
